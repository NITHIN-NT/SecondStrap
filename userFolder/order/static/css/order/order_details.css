/* ---------------------------
   Fully updated stylesheet
   - Merged Layout Styles
   - Added Vertical Timeline Logic (Gray -> Green)
   - Added Horizontal Progress Bar Styles
   --------------------------- */

/* --- PAGE LAYOUT --- */
.od-wrapper {
    background-color: #ffffff;
    padding: 40px 0;
    min-height: 100vh;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

.od-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 0 20px;
    box-sizing: border-box;
}

/* --- HEADER SECTION --- */
.od-header-nav {
    margin-bottom: 20px;
}

.back-link {
    display: inline-flex;
    align-items: center;
    color: #2563eb;
    font-weight: 500;
    font-size: 15px;
    margin-bottom: 10px;
    text-decoration: none;
}

.back-link i {
    margin-right: 5px;
    font-size: 18px;
}

.od-title-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: 20px;
    gap: 12px;
}

.od-title-left h1 {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 5px;
    color: #111;
}

.od-meta {
    color: #666;
    font-size: 15px;
}

.od-meta span {
    margin-right: 15px;
}

.btn-invoice-outline {
    display: inline-flex;
    align-items: center;
    background: #fff;
    border: 1px solid #ddd;
    padding: 8px 16px;
    border-radius: 6px;
    font-weight: 500;
    font-size: 14px;
    color: #333;
    text-decoration: none;
    transition: all 0.2s;
}

.btn-invoice-outline:hover {
    border-color: #999;
    background: #f9f9f9;
}

.btn-invoice-outline i {
    margin-right: 8px;
    font-size: 16px;
}

/* --- CARD COMPONENT --- */
.od-card {
    background: #fff;
    border-radius: 10px;
    padding: 24px 28px;
    margin-bottom: 18px;
    border: 1px solid #e8eaed;
    box-shadow: 0 8px 24px rgba(16,24,40,0.06);
    box-sizing: border-box;
}

.od-card-title {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 18px;
    color: #111;
}

/* --- ORDER STATUS HEADER (Top Green Icons) --- */
.status-header {
    display: flex;
    gap: 20px;
    margin-bottom: 26px;
    align-items: center;
}

.status-icon-box {
    width: 52px;
    height: 52px;
    background: #d1fae5;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-shrink: 0;
}

.status-icon-box i {
    color: #059669; /* Green Icon */
    font-size: 28px;
}

.status-text h3 {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 4px;
}

.status-text p {
    color: #666;
    font-size: 14px;
}

/* --- HORIZONTAL PROGRESS BAR (Added) --- */
.progress-track {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-size: 14px;
    font-weight: 600;
    color: #111;
}

.progress-bar-container {
    height: 8px;
    background: #f3f4f6; /* Light gray background track */
    border-radius: 10px;
    position: relative;
    overflow: hidden;
}

.progress-bar-fill {
    height: 100%;
    background: #10b981; /* Default Green fill */
    border-radius: 10px;
    transition: width 0.6s ease-out; /* Smooth animation */
}

/* --- VERTICAL TRACKING HISTORY (The Dynamic Timeline) --- */
.timeline {
    position: relative;
    padding-left: 10px;
    padding-top: 10px;
}

.timeline-item {
    position: relative;
    padding-left: 44px; /* Space for icon */
    padding-bottom: 28px; /* Space between steps */
}

.timeline-item:last-child {
    padding-bottom: 0;
}

/* The Vertical Line (Default: Gray) */
.timeline-item::before {
    content: '';
    position: absolute;
    left: 11px; /* Perfectly centered based on 26px icon */
    top: 5px;
    bottom: -5px; /* Extends to next item */
    width: 2px;
    background: #eaeef1; /* Gray inactive line */
    transition: background 0.3s ease;
}

/* Remove line for last item */
.timeline-item:last-child::before {
    display: none;
}

/* The Icon Circle (Default: Gray Border, Gray Icon) */
.timeline-icon {
    position: absolute;
    left: 0;
    top: 0;
    width: 26px;
    height: 26px;
    background: #fff;
    border: 2px solid #eaeef1; /* Gray border */
    border-radius: 50%;
    color: #ccc; /* Gray icon color */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 14px;
    z-index: 2; /* Sits on top of line */
    transition: all 0.3s ease;
}

/* Content Text (Default) */
.timeline-content h4 {
    font-size: 15px;
    font-weight: 700;
    margin-bottom: 4px;
    color: #555; /* Slightly lighter for inactive */
    transition: color 0.3s ease;
}

.timeline-content span {
    font-size: 13px;
    color: #888;
}

/* --- ACTIVE STATE (The Magic) --- */
/* These styles apply when Django adds the class "active" */

/* 1. Turn the vertical line Green */
.timeline-item.active::before {
    background: #10b981;
}

/* 2. Turn the Icon Green */
.timeline-item.active .timeline-icon {
    background: #10b981;
    border-color: #10b981;
    color: #fff; /* White checkmark */
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.15); /* Soft Glow */
}

/* 3. Darken the Text */
.timeline-item.active .timeline-content h4 {
    color: #000;
}

.timeline-item.active .timeline-content span {
    color: #10b981; /* Green date/status */
    font-weight: 500;
}

/* --- ITEMS LIST --- */
.item-row {
    display: flex;
    padding: 16px 0;
    border-bottom: 1px solid #eee;
    gap: 16px;
    align-items: center;
}

.item-row:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.item-row:first-child {
    padding-top: 0;
}

.item-img {
    width: 70px;
    height: 70px;
    background: #fbfbfc;
    border-radius: 8px;
    object-fit: cover;
    margin-right: 20px;
    border: 1px solid #eef0f2;
    box-shadow: 0 6px 14px rgba(16,24,40,0.04);
}

.item-details {
    flex-grow: 1;
}

.item-name {
    font-weight: 700;
    font-size: 16px;
    margin-bottom: 5px;
    display: block;
    color: #111;
}

.item-meta {
    color: #666;
    font-size: 14px;
}

.item-price-group {
    text-align: right;
    min-width: 120px;
}

.item-unit-price {
    display: block;
    font-size: 14px;
    color: #666;
    margin-bottom: 4px;
}

.item-total-price {
    display: block;
    font-weight: 700;
    font-size: 15px;
    color: #111;
}

/* --- ADDRESS GRID --- */
.address-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

/* Override inner card padding for addresses */
.address-grid .od-card {
    padding: 20px 24px;
    margin-bottom: 0;
    height: 100%; /* Make them equal height */
}

.address-lines {
    font-size: 15px;
    line-height: 1.6;
    color: #333;
}

.address-lines strong {
    display: block;
    font-weight: 700;
    margin-bottom: 5px;
    color: #111;
}

/* Payment Info inside Address Card */
.payment-info {
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid #eee;
}

.payment-label {
    font-size: 13px;
    color: #888;
    margin-bottom: 4px;
    display: block;
}

.payment-value {
    font-weight: 600;
    font-size: 15px;
    color: #111;
}

/* --- ORDER SUMMARY --- */
.order-summary-card {
    padding-top: 24px !important; /* Consistent padding */
}

.summary-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 12px;
    font-size: 15px;
    color: #444;
}

.summary-row.total {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #eee;
    font-weight: 700;
    font-size: 18px;
    color: #000;
    margin-bottom: 25px;
}

.btn-download-black {
    width: 100%;
    background: #000;
    color: #fff;
    border: none;
    padding: 15px;
    border-radius: 6px;
    font-weight: 600;
    font-size: 15px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: background 0.3s;
}

.btn-download-black:hover {
    background: #333;
}

.btn-download-black i {
    margin-right: 8px;
    font-size: 18px;
}

/* --- UTILITIES / MOBILE --- */
.status-text, .timeline-content, .item-meta, .address-lines {
    word-break: break-word;
}

@media (max-width: 768px) {
    .address-grid {
        grid-template-columns: 1fr;
        gap: 20px;
    }

    .od-title-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }

    .item-row {
        flex-wrap: wrap;
    }

    .item-price-group {
        width: 100%;
        text-align: left;
        margin-top: 10px;
        padding-left: 90px; /* Align with text, not image */
    }
}